(this.webpackJsonpclockapp=this.webpackJsonpclockapp||[]).push([[0],{18:function(e,t,n){e.exports=n(28)},23:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getErrorMessage",(function(){return p}));var r={};n.r(r),n.d(r,"getTime",(function(){return v})),n.d(r,"getFormat",(function(){return O})),n.d(r,"changeTimeZone",(function(){return w}));var o={};n.r(o),n.d(o,"fetchApi",(function(){return I})),n.d(o,"loadTime",(function(){return R}));var c=n(0),i=n.n(c),u=n(12),s=n.n(u),l=(n(23),n(2)),m=n(4),f=i.a.createContext(null),d=n(1),E="https://worldtimeapi.org/api/timezone/".concat("Europe/Moscow"),g=[1,2,3,4,5,6,7,8,9,10,11,12],h=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],b={secondRatio:0,minuteRatio:0,hourRatio:0};function p(e){return function(e){if("object"===typeof(t=e)&&null!==t&&"message"in t&&"string"===typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(n){return new Error(String(e))}}(e).message}function v(e,t){switch(t){case"GET_SECOND":return e.getSeconds()/60;case"GET_MINUTE":return e.getMinutes()/60;case"GET_HOUR":return e.getHours()/12;default:p("Something wrong")}}var O=function(e){return"arabic"===e?g:h},w=function(e,t){return"string"===typeof e?new Date(new Date(e).toLocaleString("en-US",{timeZone:t})):new Date(e.toLocaleString("en-US",{timeZone:t}))},T=n(5),S=n.n(T),y=n(7);function I(e){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.json());case 7:p("Request status error: ".concat(n.status));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return a=e.sent,n(new Date(a.datetime)),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _,k,C=Object(d.a)(Object(d.a)(Object(d.a)({},r),a),o);function M(e){return i.a.createElement(f.Provider,{value:e.value},e.children)}function U(){var e=Object(c.useContext)(f);return void 0===e&&C.getErrorMessage("useClockContext must be used within a ClockProvider"),e}!function(e){e.SET_SECOND="SET_SECOND",e.SET_MINUTE="SET_MINUTE",e.SET_HOUR="SET_HOUR"}(_||(_={})),function(e){e.arabic="arabic",e.roman="roman"}(k||(k={}));var D=function(e){var t=e.hourRatio,n=e.minuteRatio,a=e.secondRatio,r=e.format;return i.a.createElement("div",{className:"clock"},i.a.createElement("div",{className:"hand hour",style:{transform:"translate(-50%) rotate(".concat(360*t,"deg)")}}),i.a.createElement("div",{className:"hand minute",style:{transform:"translate(-50%) rotate(".concat(360*n,"deg)")}}),i.a.createElement("div",{className:"hand second",style:{transform:"translate(-50%) rotate(".concat(360*a,"deg)")}}),function(e){return C.getFormat(e).map((function(e,t){return i.a.createElement("div",{key:e.toString(),className:"number number".concat(t+1)},i.a.createElement("div",null,e))}))}(r))},x=n(3),V=(n(11),n(25),function(e,t){var n=t.type,a=t.payload;switch(n){case"SET_SECOND":return Object(d.a)(Object(d.a)({},e),{},{secondRatio:a});case"SET_MINUTE":return Object(d.a)(Object(d.a)({},e),{},{minuteRatio:a});case"SET_HOUR":return Object(d.a)(Object(d.a)({},e),{},{hourRatio:a});default:throw C.getErrorMessage("Something wrong")}});function H(e){var t=e.format,n=Object(c.useReducer)(V,b),a=Object(l.a)(n,2),r=a[0],o=a[1],u=Object(c.useState)(new Date),s=Object(l.a)(u,2),m=s[0],f=s[1],d=U(),g=d.loading,h=d.setLoading,p=function(){o({type:_.SET_SECOND,payload:C.getTime(m,"GET_SECOND")}),o({type:_.SET_MINUTE,payload:C.getTime(m,"GET_MINUTE")}),o({type:_.SET_HOUR,payload:C.getTime(m,"GET_HOUR")})},v=Object(c.useCallback)((function(){p()}),[m]);return Object(c.useEffect)((function(){var e=setInterval((function(){new Promise((function(e){e(C.loadTime(E,f))})).then((function(){return v()})).catch((function(t){clearInterval(e),C.getErrorMessage("".concat("Something wrong",": ").concat(t))}))}),5e3);return function(){clearInterval(e)}})),Object(c.useEffect)((function(){new Promise((function(e){setTimeout((function(){return e(C.loadTime(E,f))}),2e3)})).then((function(){return p()})).finally((function(){return h(!1)})).catch((function(e){return C.getErrorMessage("".concat("Something wrong",": ").concat(e))}))}),[]),i.a.createElement(i.a.Fragment,null,g?i.a.createElement(x.a,{baseColor:"#dddbdb"},i.a.createElement(x.b,{height:300,width:300,borderRadius:150})):i.a.createElement(D,{secondRatio:r.secondRatio,minuteRatio:r.minuteRatio,hourRatio:r.hourRatio,format:t}))}H.defaultProps={format:"arabic"};var F=n(13);function G(){var e=Object(F.a)(["\n  height: 1.4em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  font-size: 4em;\n  color: #495057;\n"]);return G=function(){return e},e}var L=n(14).a.div(G()),P=function(e){e.initialValue;var t=Object(m.a)(e,["initialValue"]),n=Object(c.useState)(!0),a=Object(l.a)(n,2),r=a[0],o=a[1];return i.a.createElement(M,{value:{loading:r,setLoading:o}},i.a.createElement(i.a.Fragment,null,t.children))};P.defaultProps={initialValue:!1},P.Clock=H,P.Label=function(e){var t=U().loading;return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(x.a,{baseColor:"#dddbdb"},i.a.createElement(x.b,{height:60,width:300,style:{marginTop:"0.5rem"}})):i.a.createElement(L,null,e.children))};var X=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(P,null,i.a.createElement(P.Clock,{format:"roman"}),i.a.createElement(P.Label,null,"Moscow")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.c636a3f7.chunk.js.map